
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{margin: 0;padding: 0;}
		div{
			width: 100px;
			height: 300px;
			/*position: relative;*/
			background: red;
			position: absolute;
			left: -100px;
		}
		div span{
			width: 20px;
			height: 50px;
			background: green;
			position: absolute;
			display: block;
			left: 100px;
    		top: 107px;
		}
	</style>
</head>
<body>
	<div><span>分享</span></div>
</body>
<script>
	window.onload = function(){
		var div = document.getElementsByTagName("div")[0];
		var timer = null;
		div.onmouseover = function(){
			startMove(0);
		}
		div.onmouseleave = function(){
			startMove(-100);
		}
		//把函数拿出来写
		// function startMove(speed,target){
		// 	clearInterval(timer);
		// 	timer = setInterval(function(){
		// 		if(div.offsetLeft == target){
		// 			clearInterval(timer)
		// 		}else {
		// 			div.style.left = div.offsetLeft + speed + 'px';
		// 		}
		// 	},20);
		// }
		//更加简化来写
		function startMove(target){
			clearInterval(timer);
			timer = setInterval(function(){
				var speed = 0;
				if(div.offsetLeft < target){
					speed = 10;
				}else {
					speed = -10
				}
				if(div.offsetLeft == target){
					clearInterval(timer)
				}else {
					div.style.left = div.offsetLeft + speed + 'px';
				}
			},20);
		}
	}
</script>
</html>
