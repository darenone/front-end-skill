<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>淡入淡出</title>
	<style>
		div{
			width: 300px;
			height: 300px;
			background: red;
			filter: alpha(opacity:30);
			opacity:0.3;
		}
	</style>
</head>
<body>
<div></div>
</body>
<script>
	window.onload = function(){
		var oDiv = document.getElementsByTagName("div")[0];
		var alpha = 30;
		oDiv.onmouseover = function(){
			startMove(100)
		}
		oDiv.onmouseleave = function(){
			startMove(30)
		}
		function startMove(iTatget){
			clearInterval(timer);
			var timer = setInterval(function(){
				var speed = 0;
				if(alpha < iTatget){
					speed = 10;
				}else {
					speed = -10;
				}
				if(alpha == iTatget){
					clearInterval(timer);
				}else {
					alpha += speed;
					oDiv.style.filter = 'alpha(opacity:'+alpha+')';
					oDiv.style.opacity = alpha / 100;
				}
			},30);
		}
	}
</script>
</html>
